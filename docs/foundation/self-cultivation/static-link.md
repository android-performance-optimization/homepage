# 静态链接
最近在读《程序员的自我修养：链接，装载与库》，其实这本书跟 Android 开发的联系还挺紧密的，无论是 NDK 开发，或者是性能优化中一些常用的 Native Hoook 手段，都需要了解一些链接，装载相关的知识点。本文为读书笔记。

## 静态链接是什么？
前面我们介绍了 ELF 文件的具体格式，接下来的问题是，如果我们有两个或者多个目标文件时，如何把他们链接起来，组成一个可执行文件？

```c
# a.c
extern int shared;

int main() {
    int a = 100;
    swap(&a, &shared);
}

# b.c
int shared = 1;

void swap(int *a, int *b){
}
```

比如上面的两个文件，文件 a 中引用了 文件 b 中的两个全局符号:`shared`变量与`swap`函数，在 a 文件编译后生成的目标文件 `a.o` 中，两个外部符号在符号表中的 value 都为 0。

而静态链接的作用简单来说，就是把符号替换为地址，并将`a.o`与`b.o`文件最终打包成一个可执行的文件
